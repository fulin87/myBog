---
layout: post
title:	"Linux基础知识点五"
date:	2016-08-23 13:07:11 +0800
categories:	linux
---

* Table of Contents
{:toc}

> linux中的权限管理是基础中的基础，知识点相对零散，这里特意总结一下Linux中权限管理相关功能的知识点。

## Linux权限表示法

  一图胜千言语

 ![](/image/right2.PNG)

## Linux权限管理

### chmod 管理权限

 + 普通文件的权限先总结如下：
	
		可读 r：
			表示具有阅读文件内容的权限
		可写 w：
			表示具有新增，修改文件内容的权限
			（特别提示：删除文件，修改文件名等的权限
			是受父目录的权限控制的，和文件本身的权限无关）
		可执行 x:
			表示具有执行文件的权限（文件本身要能够执行，普通
			用户同时还需要r的权限，root用户有权限也能执行，
			当然文件本身也需要能够执行）

 + 目录的权限总结如下

		可读 r : 
			表示具有浏览目录下面文件及目录的权限
			如果目录没有r权限,则不能进入到目录里
			如果没有x权限，ls也会有问题。
		可写 w : 
			表示具有增加,删除,修改目录内文件名的权限，需要x配合
		可执行 x : 
			表示具有进入目录的权限,如果连x权限都没有则读和写无意义

 + 最终总结

		可读 r :
			对文件而言，表示具有读取阅读文件内容的权限
			对目录而言，表示具有浏览目录的权限(与进入目录不同)
		可写 w :
			对文件而言，表示具有新增，修改文件内容的权限
			(注意，删除和移动文件和文件本身属性无关，看上级目录)
			对目录而言，表示具有新增，删除，移动目录内文件的权限(需要x权限的配合)
		可执行 x :
			对文件而言，就是执行文件的权限（普通用户还需要r的权限）
			对目录而言，表示具有进入目录的权限

 同样一表胜千言

 ![](/image/right1.PNG)

 `+` 增加某种权限; `-` 取消某种权限; `=` 取消原来的所有权限，重新赋予新的权限
 
 chmod -R 递归的来赋予权限，常用于对目录进行赋权。

 给用户增加读的权限

	chmod u+r /config/config.conf
 给用户组去掉执行的权限

	chmod u-x /config/config.conf
 给用户；用户组；其他用户赋权限

	chmod u-x,g+x,o=rwx /config/config.conf
 用数字给文件赋予权限

	chmod 722 /config/config.conf
	等价于
	chmod u=rwx,g=r--,o=r-- /config.conf

 *属主用户对文件的写权限是特殊的，虽然没有写权限但是如果强制写还是可以写*

 *删一个文件要看它上级目录的权限，因为文件名是放在上级目录的block里面*

 ***实际工作中尽量使用数字来赋权限，视情况来决定是否使用字符来赋权限***

### chown 管理文件所属的主或组
 
 chown -R 递归的更改

 将文件的属主改为fulin，属组改为root
	chown fulin.root /config/config.conf


### 默认的权限

 创建目录和文件的默认权限问题

	创建的目录默认权限是 755
	创建的文件默认权限是 644

 这是一个相对安全的权限，是linux中权限的一个分水岭	


## 用户管理

 增加一个名为incohome的组

	groupadd incohome
 创建一个用户oldboy到组incohome

	useradd oldboy -g incohome
 删除用户oldboy的同时，删除其家目录

	userdel -r oldboy